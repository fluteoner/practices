#include <stdio.h>
#include <limits.h>

#define ARRAY_SIZE(arr) (sizeof(arr)/sizeof(arr[0]))

int print_array(int *arr, int arrSize) {
	int i;
	for (i = 0; i < arrSize; i++) {
		printf("%d,", arr[i]);
	}
	printf("\n");
	//getchar();
}

int findMaxIndex(int *arr, int arrSize, int *diff) {

	int i, max = INT_MIN, max_index = 0;
	int all_the_same = 1;

	*diff = INT_MAX;

	for (i = 0; i < arrSize; i++) {
		if (arr[i] > max) {
			max = arr[i];
			max_index = i;

		}
		if (arr[0] != arr[i]) all_the_same = 0;
	}

	for (i = 0; i < arrSize; i++) {
		if (*diff > (max - arr[i]) && (max - arr[i] != 0)) {
			*diff = (max - arr[i]);
		}
	}
	//printf("diff = %d\n", *diff);
	return all_the_same ? INT_MIN : max_index;
}

int minMoves(int* nums, int numsSize) {

	int max_index, move_count = 0;
	int diff;

	while ((max_index = findMaxIndex(nums, numsSize, &diff)) != INT_MIN) {
		//printf("max_index = %d\n", max_index);
		//for (i = (max_index + 1)%numsSize; i != max_index; i = (i +1)%numsSize) {
		//	nums[i] += diff;
		//}
		nums[max_index] -= diff;

		move_count += diff;
		//print_array(nums, numsSize);
	}

	//printf("move_count = %d\n", move_count);
	
	return move_count;
}

int main() {

	int array[] = {-78,-28,-70,57,-19,45,66,53,92,41,-30,-42,-62,85,-84,-76,39,92,-17,72,77,-28,-68,-62,-58,-94,-18,-9,86,-50,18,-91,22,48,18,55,-55,-16,8,89,78,79,-53,-84,64,-85,93,-45,-93,-24,79,85,1,-89,75,-5,69,-90,86,56,-88,-43,17,-14,57,-65,-59,-97,-28,49,92,-50,-20,-60,-82,97,-45,-89,-96,-85,-60,84,-100,-7,47,27,88,17,37,74,-27,1,83,90,87,41,77,-72,-4,-99,30,-12,-97,-90,-20,-78,59,36,85,64,3,77,0,-45,-30,-53,82,-42,64,-28,85,-63,73,68,79,61,-39,9,89,57,10,19,-54,-34,-18,-22,-12,-59,66,-75,57,-31,-97,-43,24,-75,5,7,-16,-31,31,-31,-41,4,89,90,-35,-49,-49,-93,-92,62,-22,-94,-72,60,-15,-32,54,-49,-55,11,21,-100,69,-55,-74,-74,4,-38,-5,-65,31,6,40,20,-51,57,23,0,16,32,-86,95,-10,-58,7,75,-38,-87,79,-40,-23,0,-40,-54,-3,-62,-76,54,0,-29,89,-69,78,-19,4,79,91,-73,-21,7,11,-6,-46,-98,-12,14,29,3,-21,8,63,56,60,75,54,-90,-86,78,64,14,-50,53,-2,80,87,54,59,78,33,-62,-63,-55,-16,-56,99,73,58,28,-72,-63,89,91,46,49,18,0,59,32,-21,23,99,29,-71,-3,9,-84,-97,-80,46,36,-42,83,33,-5,-73,32,-80,37,-87,-52,27,-98,91,-27,3,9,25,-37,-58,-96,38,93,-15,19,-58,46,-13,-55,66,-67,81,77,69,15,-28,48,99,-8,-62,-88,40,65,-86,31,90,-30,92,15,33,86,-28,-77,79,57,-5,-79,4,82,-82,-78,68,52,99,-11,-81,-29,89,-82,15,-73,83,-45,44,49,38,34,-81,-17,-98,4,-31,-26,28,-51,83,-77,-78,-61,57,93,-38,25,45,-87,66,64,-63,56,34,52,83,17,60,-20,-33,-50,66,-14,33,68,91,-97,94,-29,-96,78,-54,78,-83,55,71,-21,-67,-32,-7,99,84,-18,55,19,-66,-9,88,94,71,-93,97,-11,-6,30,-42,-63,-15,-96,-40,-11,82,-42,-80,-100,-87,91,-69,-54,-88,-24,-54,96,58,53,-33,45,-56,-44,-9,67,-37,-12,-91,9,-81,-81,-2,-44,-77,58,-2,-94,-84,18,58,82,-39,41,-72,-27,-82,-74,-30,28,80,37,-27,76,45,65,-4,-91,-47,5,-30,-76,24,69,-67,47,27,31,5,-4,-51,-37,-22,10,57,-42,36,75,-15,58,3,-35,-53,29,-59,93,-6,37,54,-1,94,-76,-24,18,45,9,-82,-75,92,23,21,-59,39,51,3,-4,-91,91,-77,-6,49,-22,11,97,59,53,90,-47,-58,-4,5,89,-28,33,7,-82,94,-23,-57,86,53,16,79,-8,-33,-18,40,-72,-26,15,23,75,45,-66,72,5,39,14,10,34,-90,-85,23,-65,0,82,-47,-6,-40,-4,-68,-87,-88,-89,-43,-69,-6,49,-41,20,-84,34,-5,61,21,-80,-34,-88,-14,77,46,-51,44,-79,-16,-55,56,37,-9,-84,85,24,81,49,-13,90,80,81,-9,91,-47,7,26,1,-32,-53,-27,-13,-89,59,-36,10,-92,60,31,-56,57,-13,33,-51,-45,18,25,88,-33,-88,78,99,46,-31,91,51,28,-31,-96,97,-32,-23,-16,-21,89,0,89,49,-40,-27,94,-82,12,27,-81,20,-54,-4,8,-35,-40,-61,-83,-94,-40,-92,10,89,-71,14,38,-3,92,74,28,81,-26,18,30,-14,43,-24,-44,-45,-96,-73,27,-98,-25,-64,-81,36,-73,-64,-6,-13,-56,-96,-24,-27,19,66,22,-37,40,-49,96,66,21,-22,-95,-36,55,-39,-29,11,-59,99,13,16,87,32,-96,-86,21,-1,1,65,-45,30,91,26,-4,-35,89,-63,16,37,-97,89,-84,-92,-95,23,-78,-23,86,-85,-72,-49,-17,-85,83,-12,-71,-44,39,-18,-78,94,-88,65,21,9,82,-38,46,-49,-100,1,-60,68,-38,-54,-57,-64,-25,-71,-97,3,-20,-14,18,-85,26,-1,-28,-35,81,-54,-40,94,63,81,-45,45,-57,53,96,95,-46,89,63,-32,-65,58,-44,10,87,-41,65,-33,46,-17,-17,-28,34,7,38,15,53,50,9,16,-17,64,-39,-22,-31,-90,-26,24,99,89,44,-66,48,-99,-4,35,-40,-39,55,58,-4,90,-69,-70,-3,21,-3,-50,-77,59,18,6,-25,31,84,45,41,-90,-31,40,-100,65,26,0,66,74,-65,-73,87,42,37,-17,32,68,-35,-71,-59,63,-69,-36,22,49,70,49,-19,7,-6,-78,17,15,15,17,-19,93,-83,-53,68,-95,-74,55,47,64,91,-68,-16,-44,-39,-22,71,-55,42,-55,94,-35,95,-73,72,-11,-98,-11,-95,17,59,-14,10,28,-15,-70,-15,-36,86,85,80,77,-83,-36,85,-70,42,9,-25,-63,54,-78,2,1,-51,-74,91,-49,-33,48,20,-74,86,83,7,-29,-87,92,-13,51,29,-33,-20,46,32,-34,77,-74,27,-96,-37,-19,-74,17,35,-72};
	int diff;
	printf("index = %d, diff = %d\n", findMaxIndex(array, ARRAY_SIZE(array), &diff), diff);
	printf("mod = %d\n", -1 % 3);
	minMoves(array, ARRAY_SIZE(array));
	return 0;
}
